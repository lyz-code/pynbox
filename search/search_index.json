{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"pynbox","text":"<p><code>pynbox</code> aims to help you with the daily emptying of the inbox by:</p> <ul> <li>Prioritizing the elements by their type.</li> <li>Giving insights on the inbox status.</li> <li>Giving feedback on the inbox processing process.</li> <li>Making the insertion of new elements as effortless as possible.</li> </ul>"},{"location":"#installing","title":"Installing","text":"<pre><code>pip install pynbox\n</code></pre>"},{"location":"#quick-overview","title":"Quick overview","text":""},{"location":"#proposed-workflow","title":"Proposed workflow","text":"<p>When you're on your desktop you can add elements directly with the command line, when you're on the go, use any text editor, such as Markor, and sync the file with Syncthing to your laptop, and then parse the file.</p> <p>To process the elements, you can daily use <code>pynbox process</code>. If you want to focus on a category, use <code>pynbox process category</code>.</p>"},{"location":"#references","title":"References","text":"<p>As most open sourced programs, <code>pynbox</code> is standing on the shoulders of giants, namely:</p> Pytest Testing framework, enhanced by the awesome pytest-cases library that made the parametrization of the tests a lovely experience. Mypy Python static type checker. Flakeheaven Python linter with lots of checks. Black Python formatter to keep a nice style without effort. Autoimport Python formatter to automatically fix wrong import statements. isort Python formatter to order the import statements. PDM Command line tool to manage the dependencies. Mkdocs To build this documentation site, with the Material theme. Safety To check the installed dependencies for known security vulnerabilities. Bandit To finds common security issues in Python code. Yamlfix YAML fixer."},{"location":"#contributing","title":"Contributing","text":"<p>For guidance on setting up a development environment, and how to make a contribution to pynbox, see Contributing to pynbox.</p>"},{"location":"#donations","title":"Donations","text":"<p> or </p> <p>If you are using some of my open-source tools, have enjoyed them, and want to say \"thanks\", this is a very strong way to do it.</p> <p>If your product/company depends on these tools, you can sponsor me to ensure I keep happily maintaining them.</p> <p>If these tools are helping you save money, time, effort, or frustrations; or they are helping you make money, be more productive, efficient, secure, enjoy a bit more your work, or get your product ready faster, this is a great way to show your appreciation. Thanks for that!</p> <p>And by sponsoring me, you are helping make these tools, that already help you, sustainable and healthy.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>The first time you use <code>pynbox</code>, it will create the default configuration in <code>~/.local/share/pynbox</code> or the path of the <code>-c</code> command line argument.</p>"},{"location":"configuration/#database_url","title":"database_url","text":"<p><code>pynbox</code> uses <code>repository_orm</code> to persist the elements. By default, it uses the TinyDB backend, if you encounter performance issues, move to SQLite, and then to MySQL. Refer to the docs of <code>repository_orm</code> to do so.</p>"},{"location":"configuration/#max_time","title":"max_time","text":"<p>You should not spend too much time processing your inbox, the idea is that if it will take you more than 2 minutes to process an element, it's better to create a task to address it. <code>max_time</code> defines the maximum number of seconds to process an element. A warning will be shown if it takes you longer.</p>"},{"location":"configuration/#types","title":"types","text":"<p>It's where you define the element categories, their regular expressions and their priority. For example:</p> <pre><code>types:\ntask:\nregexp: t\\.\npriority: 4\nidea:\nregexp: i\\.\n</code></pre> <p>If the priority is not defined, it's assumed to be <code>3</code>.</p> <p>The regular expression needs to be a non capturing one</p> <p>If you use parenthesis use <code>(?:&lt;regular expression&gt;)</code> instead of <code>(&lt;regular expression&gt;)</code>.</p>"},{"location":"contributing/","title":"Contributing","text":"<p>So you've started using <code>pynbox</code> and want to show your gratitude to the project, depending on your programming skills there are different ways to do so.</p>"},{"location":"contributing/#i-dont-know-how-to-program","title":"I don't know how to program","text":"<p>There are several ways you can contribute:</p> <ul> <li>Open an issue if you encounter     any bug or to let us know if you want a new feature to be implemented.</li> <li>Spread the word about the program.</li> <li>Review the documentation and try to improve     it.</li> </ul>"},{"location":"contributing/#i-know-how-to-program-in-python","title":"I know how to program in Python","text":"<p>If you have some python knowledge there are some additional ways to contribute. We've ordered the issues in milestones, check the issues in the smaller one, as it's where we'll be spending most of our efforts. Try the good first issues, as they are expected to be easier to get into the project.</p> <p>We develop the program with TDD, so we expect any contribution to have it's associated tests. We also try to maintain an updated documentation of the project, so think if your contribution needs to update it.</p> <p>We know that the expected code quality is above average. Therefore it might be changeling to get the initial grasp of the project structure, know how to make the tests, update the documentation or use all the project technology stack. but please don't let this fact discourage you from contributing:</p> <ul> <li>If you want to develop a new feature, explain how you'd like to do it in the related issue.</li> <li>If you don't know how to test your code, do the pull request without the tests     and we'll try to do them for you.</li> </ul>"},{"location":"contributing/#issues","title":"Issues","text":"<p>Questions, feature requests and bug reports are all welcome as issues. To report a security vulnerability, please see our security policy instead.</p> <p>To make it as simple as possible for us to help you, please include the output of the following call in your issue:</p> <pre><code>python -c \"import pynbox.version; print(pynbox.version.version_info())\"\n</code></pre> <p>or if you have <code>make</code> installed, you can use <code>make version</code>.</p> <p>Please try to always include the above unless you're unable to install <code>pynbox</code> or know it's not relevant to your question or feature request.</p>"},{"location":"contributing/#pull-requests","title":"Pull Requests","text":"<p>pynbox is released regularly so you should see your improvements release in a matter of days or weeks.</p> <p>Note</p> <p>Unless your change is trivial (typo, docs tweak etc.), please create an issue to discuss the change before creating a pull request.</p> <p>If you're looking for something to get your teeth into, check out the \"help wanted\" label on github.</p>"},{"location":"contributing/#development-facilities","title":"Development facilities","text":"<p>To make contributing as easy and fast as possible, you'll want to run tests and linting locally.</p> <p>tl;dr: use <code>make format</code> to fix formatting, <code>make</code> to run tests and linting &amp; <code>make docs</code> to build the docs.</p> <p>You'll need to have python 3.6, 3.7, or 3.8, virtualenv, git, and make installed.</p> <ul> <li> <p>Clone your fork and go into the repository directory:</p> <pre><code>git clone git@github.com:&lt;your username&gt;/pynbox.git\ncd pynbox\n</code></pre> </li> <li> <p>Set up the virtualenv for running tests:</p> <pre><code>virtualenv -p `which python3.7` env\nsource env/bin/activate\n</code></pre> </li> <li> <p>Install <code>pdm</code> our package manager with the next command or using any of the     other recommended     methods.</p> <pre><code>curl -sSL https://raw.githubusercontent.com/pdm-project/pdm/main/install-pdm.py | python3 -\n</code></pre> </li> <li> <p>Install pynbox, dependencies and configure the     pre-commits:</p> <pre><code>make install\n</code></pre> </li> <li> <p>Checkout a new branch and make your changes:</p> <pre><code>git checkout -b my-new-feature-branch\n</code></pre> </li> <li> <p>Fix formatting and imports: pynbox uses     black to enforce formatting and     isort to fix imports.</p> <pre><code>make format\n</code></pre> </li> <li> <p>Run tests and linting:</p> <pre><code>make\n</code></pre> <p>There are more sub-commands in Makefile like <code>test-code</code>, <code>test-examples</code>, <code>mypy</code> or <code>security</code> which you might want to use, but generally <code>make</code> should be all you need.</p> <p>If you need to pass specific arguments to pytest use the <code>ARGS</code> variable, for example <code>make test ARGs='-k test_markdownlint_passes'</code>.</p> </li> <li> <p>Build documentation: If you have changed the documentation, make sure it     builds the static site. Once built it will serve the documentation at     <code>localhost:8000</code>:</p> <pre><code>make docs\n</code></pre> </li> <li> <p>Commit, push, and create your pull request.</p> </li> <li> <p>Make a new release: To generate the changelog of the new changes, build the     package, upload to pypi and clean the build files use <code>make bump</code>.</p> </li> </ul> <p>We'd love you to contribute to pynbox!</p>"},{"location":"creating_new_elements/","title":"Creating new elements","text":"<p>To add new elements into pynbox, you need to use the defined markup language either through the command line or through a file.</p>"},{"location":"creating_new_elements/#pynbox-markup-language","title":"Pynbox markup language","text":"<p>It's designed to use the minimum number of friendly keystrokes both for a mobile and a laptop. The format of each element is:</p> <pre><code>{{ type_identifier }} {{ description }}\n{{ body }}\n</code></pre> <p>Where:</p> <ul> <li><code>type_identifier</code>: Is a case insensitive string of the fewest letters as     possible, that identifies the type of the element. It can be for example     <code>t.</code> for a task, or <code>i.</code> for an idea. The identifiers are defined in the     configuration file.</li> <li><code>description</code>: A short sentence that defines the element.</li> <li><code>body</code>: An optional group of paragraphs with more information of the element.</li> </ul> <p>For example:</p> <pre><code>T. buy groceries\n* milk\n* tofu\ni. to have an inbox management tool would be awesome!\n</code></pre>"},{"location":"creating_new_elements/#command-line","title":"Command line","text":"<p>You can use the <code>add</code> subcommand to put new items into the inbox.</p> <pre><code>pynbox add t. buy milk\n</code></pre>"},{"location":"creating_new_elements/#parse-a-file","title":"Parse a file","text":"<p>If you need to add elements with a body, more than one element, or want to import them from other device, using a file might be easier.</p> <p>Write the elements one after the other in the file and then use the <code>parse</code> command.</p> <pre><code>pynbox parse file.txt\n</code></pre>"},{"location":"reference/","title":"Reference","text":""},{"location":"reference/#pynbox","title":"<code>pynbox</code>","text":"<p>Task management inbox tool.</p>"},{"location":"adr/001-high_level_problem_analysis/","title":"001: High level problem analysis","text":""},{"location":"adr/001-high_level_problem_analysis/#status","title":"Status","text":"<p>Accepted</p>"},{"location":"adr/001-high_level_problem_analysis/#context","title":"Context","text":"<p>I've been using a markdown file to annotate all the elements of my inbox for later processing. The file was available both by computer and mobile phone and synced using Syncthing.</p> <p>The inbox elements are of different types: events, tasks, ideas, media suggestions (movies, tv shows, books or music).</p> <p>The problem is that I'm not able to keep the pace to process the elements and the file is increasingly growing.</p> <p>The goal is to have a piece of software that would help in inbox management by:</p> <ul> <li>Prioritizing a type of element over the others.</li> <li>Giving stats on the inbox status.</li> <li>Giving feedback on the inbox processing process.</li> <li>Making the insertion of new elements as effortless as possible.</li> </ul>"},{"location":"adr/001-high_level_problem_analysis/#proposals","title":"Proposals","text":"<p>On the Android side, we can define a markup syntax where the user adds new items through an editor, such as Markor. That file gets synced to the desktop host through Syncthing.</p> <p>On the desktop side, we can have a command line client that:</p> <ul> <li>Processes the Android markup file to ingest the new elements.</li> <li>Has a REPL and TUI interfaces to add new elements.</li> <li>Has a REPL interface to process the existing inbox, which allows the user to     select the order of the elements or a subset of them to process. It will     monitor the inbox processing to detect improvable behaviours. And will give     the user an idea of the state of the inbox.</li> </ul> <p>I've done a super quick search to see if there is anything there in the wild that fulfills the user case, but found none. If you know of a program that might work, please contact me.</p>"},{"location":"adr/001-high_level_problem_analysis/#decision","title":"Decision","text":"<p>Implement the proposed solution.</p>"},{"location":"adr/001-high_level_problem_analysis/#consequences","title":"Consequences","text":""},{"location":"adr/002-initial_program_design/","title":"002: Initial program design","text":""},{"location":"adr/002-initial_program_design/#status","title":"Status","text":"<p>Accepted</p>"},{"location":"adr/002-initial_program_design/#context","title":"Context","text":"<p>We need to define the architecture of the program to fulfill the goals of 001.</p>"},{"location":"adr/002-initial_program_design/#proposals","title":"Proposals","text":""},{"location":"adr/002-initial_program_design/#storage","title":"Storage","text":"<p>For the storage we can use two approaches:</p> <ul> <li>Use the markup file that is synced between the mobile and the desktop.</li> <li>Use an external storage, and use the markup file just as a transport of data     from the mobile.</li> </ul> <p>The first option is juicy as the code to interact with the storage would be simpler and with less dependencies. We need to write the parser anyway to get the data from the file. The side effects are that</p> <ul> <li> <p>We would need to prevent the collisions between a mobile update and the data     processed by the desktop client.  For example, imagine that you've made some     changes in the mobile, but they're not yet synced, you run the inbox     processing tool and clear some, before the program has any chance to save     the state, the mobile syncs the file. You'll have some changes in memory,     and some non imported changes in the file.</p> </li> <li> <p>When the inbox grows, you can have performance issues. Having an external     optimized storage will always be faster.</p> </li> <li> <p>There is no concept of temporal state: You'll only have the last picture of     the inbox, not the progression, which could be interesting to show as part     of the inbox statistics.</p> </li> </ul>"},{"location":"adr/002-initial_program_design/#inputs","title":"Inputs","text":"<p>There are two kind of sources: mobile and desktop.</p>"},{"location":"adr/002-initial_program_design/#mobile","title":"Mobile","text":"<p>The mobile user will create a markup file that follows 003. That file gets synced with Syncthing to the desktop, which extracts the data from it, ingests it in the storage solution and then cleans it.</p>"},{"location":"adr/002-initial_program_design/#desktop","title":"Desktop","text":""},{"location":"adr/002-initial_program_design/#addition-of-elements","title":"Addition of elements","text":"<p>The desktop user will create elements directly in the storage solution. It can do it through:</p> <ul> <li>TUI command line arguments.</li> <li>REPL interface.</li> <li>Using the desktop editor.</li> </ul> <p>The TUI is useful to allow interaction between programs. We could accept an argument that uses the same markup as with the mobile device. The problem is that the editing features of the terminal are limited.</p> <p>The REPL interface could be a step forward in terms of usability from the TUI, with autocompletion, but it will still lack the editing features of a desktop editor.</p> <p>The editor is the quickest way to write in the desktop, but it will lack the domain specific features, such as autocompletion of the element types.</p>"},{"location":"adr/002-initial_program_design/#inbox-processing","title":"Inbox processing","text":"<p>The user is presented one element at a time selected from a prioritized list of elements. For each of them it can:</p> <ul> <li>Do the element.</li> <li>Postpone it.</li> </ul> <p>The first will mark the element as done, and won't appear in future inbox processing sessions. Postponing it will make the item show at the next session.</p> <p>The element prioritization is done by:</p> <ul> <li>Element category type: Each category will have a priority.</li> <li>Element creation date: Ordered by oldest first.</li> </ul> <p>It will measure the time spent between each element, and if it surpasses a defined amount, it will warn the user, so it is aware of it and can act accordingly.</p> <p>Once the inbox processing session is done, it will show the inbox stats. As a first approximation, it will show a measure of the done elements compared with how many are left.</p> <p>We'll use a REPL interface built with questionary, as it's the quickest library to build simple REPL, and is based in Prompt toolkit, which will give us more flexibility if we need more complex features.</p>"},{"location":"adr/002-initial_program_design/#decision","title":"Decision","text":"<p>For the storage we'll use Pydantic models managed by Repository-orm.</p> <p>We'll start with the TUI and launching the editor as input methods for the desktop, and a file following the markup language for mobile devices.</p> <p>Then we'll develop the inbox processing REPL.</p>"},{"location":"adr/002-initial_program_design/#consequences","title":"Consequences","text":""},{"location":"adr/003-markup_definition/","title":"003: Markup Definition","text":""},{"location":"adr/003-markup_definition/#status","title":"Status","text":"<p>Draft</p>"},{"location":"adr/003-markup_definition/#context","title":"Context","text":"<p>We need to define a markup language that allows the introduction of new elements through a mobile device as effortlessly as possible.</p> <p>The information to extract from each element is:</p> <ul> <li>Description.</li> <li>Body</li> <li>Element type.</li> </ul>"},{"location":"adr/003-markup_definition/#proposals","title":"Proposals","text":"<p>The format of each element is:</p> <pre><code>{{ type_identifier }} {{ description }}\n{{ body }}\n</code></pre> <p>Where:</p> <ul> <li><code>type_identifier</code>: Is a case insensitive string of the fewest letters as     possible, that identifies the type of the element. It can be for example     <code>T.</code> for a task, or <code>i.</code> for an idea.</li> <li><code>description</code>: A short sentence that defines the element</li> <li><code>body</code>: An optional group of paragraphs with more information of the element.</li> </ul> <p>For example:</p> <pre><code>T. buy groceries\n* milk\n* tofu\ni. pynbox report could show progress bars for each element type\n</code></pre>"},{"location":"adr/003-markup_definition/#decision","title":"Decision","text":"<p>Follow the only proposed language</p>"},{"location":"adr/003-markup_definition/#consequences","title":"Consequences","text":"<p>We'd need to write the parser.</p>"},{"location":"adr/adr/","title":"Architecture Decision Records","text":"<p>ADR are short text documents that captures an important architectural decision made along with its context and consequences.</p> <pre><code>graph TD\n    001[001: High level analysis]\n    002[002: Initial Program design]\n    003[003: Markup Definition]\n\n    001 -- Extended --&gt; 002\n    002 -- Extended --&gt; 003\n\n    click 001 \"https://lyz-code.github.io/pynbox/adr/001-high_level_problem_analysis\" _blank\n    click 002 \"https://lyz-code.github.io/pynbox/adr/002-initial_program_design\" _blank\n    click 002 \"https://lyz-code.github.io/pynbox/adr/003-markup_definition\" _blank\n\n    001:::accepted\n    002:::accepted\n    003:::accepted\n\n    classDef draft fill:#CDBFEA;\n    classDef proposed fill:#B1CCE8;\n    classDef accepted fill:#B1E8BA;\n    classDef rejected fill:#E8B1B1;\n    classDef deprecated fill:#E8B1B1;\n    classDef superseeded fill:#E8E5B1;</code></pre>"}]}